generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["referentialIntegrity"]
}

datasource db {
  provider             = "mysql"
  url                  = env("DATABASE_URL")
  referentialIntegrity = "prisma"
}

model alumnoXcursoXdivision {
  id               Int       @id @default(autoincrement())
  anoActual        DateTime?
  idUsuario        Int?
  idEstadoAlumno   Int?
  idCursoXDivision Int?

  @@index([idUsuario, idCursoXDivision, idEstadoAlumno])
}

model archivo {
  id            Int     @id @default(autoincrement())
  titulo        String?
  descripcion   String?
  url           String?
  idTipoArchivo Int?

  @@index([idTipoArchivo])
}

model asistencia {
  id                      Int       @id @default(autoincrement())
  fecha                   DateTime?
  justificado             Boolean?
  idTipoAsistencia        Int?
  idAlumnoXcursoXdivision Int?
  idUsuario               Int?

  @@index([idAlumnoXcursoXdivision, idTipoAsistencia, idUsuario])
}

model asistenciaDocente {
  id                Int       @id @default(autoincrement())
  idDocenteXmateria Int?
  idTipoAsistencia  Int?
  justificado       Boolean?
  idUsuario         Int?
  fecha             DateTime?

  @@index([idDocenteXmateria, idTipoAsistencia, idUsuario])
}

model curso {
  id     Int     @id @default(autoincrement())
  nombre String?
}

model cursoXdivision {
  id         Int  @id @default(autoincrement())
  idCurso    Int?
  IdDivision Int?

  @@index([idCurso, IdDivision])
}

model discapacidad {
  id     Int    @id @default(autoincrement())
  nombre String
}

model discapacidadXusuario {
  id             Int  @id @default(autoincrement())
  idDiscapacidad Int?
  idUsuario      Int?

  @@index([idDiscapacidad, idUsuario])
}

model division {
  id       Int     @id @default(autoincrement())
  division String?
}

model docenteXmateria {
  id        Int  @id @default(autoincrement())
  idUsuario Int?
  idMateria Int?

  @@index([idMateria, idUsuario])
}

model enfermedad {
  id          Int     @id @default(autoincrement())
  descripcion String?
  idUsuario   Int?

  @@index([idUsuario])
}

model enfermedadesXusuario {
  id           Int  @id @default(autoincrement())
  idEnfermedad Int?
  idUsuario    Int?

  @@index([idEnfermedad, idUsuario])
}

model estadoAlumno {
  id     Int     @id @default(autoincrement())
  estado String?
}

model fechaExamen {
  id        Int       @id @default(autoincrement())
  idUsuario Int?
  idCurso   Int?
  fecha     DateTime?
  idMateria Int?

  @@index([idCurso, idMateria, idUsuario])
}

model fichaInstitucional {
  id                Int      @id @default(autoincrement())
  nombreInstitucion String?
  ubicacion         String?
  tipoInstitucion   Boolean?
  descripcion       String?
  telefono1         String?
  telefono2         String?
  oficina1          String?
  oficina2          String?
  mail              String?
  idUsuario         Int?

  @@index([idUsuario])
}

model materia {
  id            Int     @id @default(autoincrement())
  nombre        String?
  idCurso       Int?
  idCorrelativa Int?

  @@index([idCorrelativa, idCurso])
}

model materialEstudio {
  id          Int       @id @default(autoincrement())
  titulo      String?
  fecha       DateTime?
  descripcion String?
  idArchivo   Int?
  idUsuario   Int?

  @@index([idArchivo, idUsuario])
}

model menu {
  id          Int     @id @default(autoincrement())
  menuSistema String?
  url         String?
}

model menuXrol {
  id     Int  @id @default(autoincrement())
  idRol  Int?
  idMenu Int?

  @@index([idMenu, idRol])
}

model nota {
  id                      Int       @id @default(autoincrement())
  idAlumnoXcursoXdivision Int?
  idMateria               Int?
  fecha                   DateTime?
  idTrimestre             Int?
  idUsuario               Int?
  nota1                   Int?
  nota2                   Int?
  nota3                   Int?
  nota4                   Int?
  nota5                   Int?

  @@index([idAlumnoXcursoXdivision, idMateria, idTrimestre, idUsuario])
}

model noticiasYnovedades {
  id            Int       @id @default(autoincrement())
  titulo        String?
  creadaEn      DateTime?
  actualizadaEn DateTime?
  descripcion   String?
  idUsuario     Int?
  url           String?

  @@index([idUsuario])
}

model notificacion {
  id          Int     @id @default(autoincrement())
  descripcion String?
  idUsuario   Int?
  idCurso     Int?

  @@index([idCurso, idUsuario])
}

model permisos {
  id        Int     @id @default(autoincrement())
  casoDeUso String?
}

model permisosXrol {
  id         Int  @id @default(autoincrement())
  idRol      Int?
  idPermisos Int?

  @@index([idPermisos, idRol])
}

model portadaFicha {
  id                   Int    @id @default(autoincrement())
  nombre               String
  url                  String
  idFichaInstitucional Int?

  @@index([idFichaInstitucional])
}

model reporte {
  id            Int       @id @default(autoincrement())
  idTipoReporte Int?
  fechaEmision  DateTime?

  @@index([idTipoReporte])
}

model reporteXtrimestre {
  id               Int  @id @default(autoincrement())
  idReporte        Int?
  idTrimestre      Int?
  idAlumnoXmateria Int?

  @@index([idReporte, idAlumnoXmateria, idTrimestre])
}

model rol {
  id   Int     @id @default(autoincrement())
  tipo String?
}

model sancion {
  id                      Int       @id @default(autoincrement())
  motivo                  String?
  fecha                   DateTime?
  idTipoSancion           Int?
  idAlumnoXCursoXDivision Int?

  @@index([idAlumnoXCursoXDivision, idTipoSancion])
}

model sancionXusuario {
  id        Int  @id @default(autoincrement())
  idSancion Int?
  idUsuario Int?

  @@index([idSancion, idUsuario])
}

model tipoArchivo {
  id   Int     @id @default(autoincrement())
  tipo String?
}

model tipoAsistencia {
  id    Int     @id @default(autoincrement())
  tipo  String?
  valor Float?
}

model tipoReporte {
  id   Int     @id @default(autoincrement())
  tipo String?
}

model tipoSancion {
  id   Int     @id @default(autoincrement())
  tipo String?
}

model trimestre {
  id        Int     @id @default(autoincrement())
  trimestre String?
}

model usuario {
  id        Int     @id @default(autoincrement())
  login     String?
  password  String?
  sexo      String?
  nombre    String?
  apellido  String?
  dni       String?
  correo    String?
  localidad String?
  telefono  String?
  direccion String?
  alergias  String?
  idTutor   Int?
  idRol     Int?

  @@index([idRol, idTutor])
}
